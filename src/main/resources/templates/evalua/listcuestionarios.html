<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta th:name="_csrf" th:content="${_csrf.token}" />
    <title>Cuestionarios - Universidad Nacional Autónoma de México</title>
    <link rel="icon" type="image/x-icon" href="/images/cropped-favicon-1-150x150.jpg" />
    <headers th:replace="~{components/headers.html :: ~{_headers}}" />
    <link href="/css/buttonplus.css" rel="stylesheet" />
    <script	src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>    
</head>
<body id="cabecera">
    <nav th:replace="~{components/nav.html :: ~{_nav}}" />
    <!-- Page Header-->
    <header class="masthead" style="background-image: url('/images/home-bg.jpg'); height: 125px;">
    </header>
    <div class="container px-4 px-lg-5 ">
        <div class="row d-flex justify-content-center">
            <div class="col-10 " >
                <h1 class="text-center">Evaluación de Proyectos</h1>
                <table class="table table-striped table-hover" id="tablaUsuarios">
                    <thead>
                        <tr>
                            <th>Tipo de Proyecto</th>
                            <th>Capturados </th>
                            <th  style="text-align: center;">En revisión</th>
                            <th  style="text-align: center;">Avalados/Terminados</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="cuestionario, index: ${cuestionarios}">
                            <td th:text="${cuestionario.titulo}"></td>
                            <td style="text-align: center;">
                                <a th:href="@{'/evalua/listdetalle?param=' + ${cuestionario.param}} + '&tipo=captura'" style="display: block ruby;">
                                    <button  class="btn btn-primary rounded-circle d-grid justify-content-center" style="width: 20px; height: 20px; align-content: center;">
                                        <span th:text="${cuestionario.Capturados}" th:id="@{'capt_' + ${index.count}}">  </span>
                                    </button>
                                </a>
                                    
                                
                            </td>
                            <td style="text-align: center;">
                                <a th:href="@{'/evalua/listdetalle?param=' + ${cuestionario.param}} + '&tipo=evalua'" style="display: block ruby;">
                                    <button  class="btn btn-primary rounded-circle d-grid justify-content-center" style="width: 20px; height: 20px; align-content: center;">
                                        <span th:text="${cuestionario.evaluados}" th:id="@{'eval_' + ${index.count}}" >  </span>
                                    </button>
                                </a>
                            </td>

                            <td style="text-align: center;"> 
                            <a th:href="@{'/terminado/listterminado?param=' + ${cuestionario.param}}" style="display: block ruby;">
                                <button  class="btn btn-primary rounded-circle d-grid justify-content-center" style="width: 20px; height: 20px; align-content: center;">
                                <span th:text="${cuestionario.terminados}" th:id="@{'eval_' + ${index.count}}" >  </span>
                                </button>
                            </a>
                            </td>
                        
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="text-align: center;">
                <a href="/" class="btn btn-primary"> regresar</a>
            </div>
        </div>
    </div>        
    <!-- Footer-->
    <foot th:replace="~{components/footer.html :: ~{_footer}}" />


        <!-- Tostada -->

        <div class="toast-container position-fixed bottom-0 end-0 p-3">
            <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <i class="bi bi-rocket-takeoff"> </i>
                    <strong class="me-auto"> Mensaje:</strong>
                    <small>En este momento</small>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"
                        onclick="apagarTostada()"></button>
                </div>
                <div class="toast-body">
                    <label id="lblTostada">Hello, world! This is a toast message.</label>
                </div>
            </div>
        </div>
    
        <script>
            const toastTrigger = document.getElementById('liveToastBtn')
            const toastLiveExample = document.getElementById('liveToast')
            if (toastTrigger) {
                toastTrigger.addEventListener('click', () => {
                    const toast = new bootstrap.Toast(toastLiveExample)
    
                    toast.show()
                })
            }
    
            function tostada() {
                // Obtener el elemento por su ID
                var toast = document.getElementById("liveToast");
                // Hacer visible el elemento
                toast.style.display = "block";
    
                setTimeout(function () {
                    apagarTostada();
                }, 3000);
            }
    
            function apagarTostada() {
                // Obtener el elemento por su ID
                var toast = document.getElementById("liveToast");
                // Hacer invisible el elemento
                toast.style.display = "none";
            }
        </script>
</body>
</html>